<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Snake | Minimalist Pro</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --panel-color: rgba(30, 41, 59, 0.7);
            --accent-color: #38bdf8;
            --snake-head: #0ea5e9;
            --food-color: #fb7185;
            --text-color: #f8fafc;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .game-container {
            position: relative;
            background: var(--panel-color);
            padding: 20px;
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        canvas {
            background: #020617;
            border-radius: 12px;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
            display: block;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 1.2rem;
            letter-spacing: 1px;
        }

        .score-box {
            color: var(--accent-color);
            text-shadow: 0 0 10px rgba(56, 189, 248, 0.5);
        }

        .overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.85);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 24px;
            transition: opacity 0.3s ease;
        }

        .hidden { display: none !important; }

        button {
            background: var(--accent-color);
            color: var(--bg-color);
            border: none;
            padding: 12px 32px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.4);
        }

        .controls-hint {
            margin-top: 15px;
            font-size: 0.85rem;
            opacity: 0.6;
        }
    </style>
</head>
<body>

    <div class="game-container">
        <div class="stats">
            <div class="score-box">SCORE: <span id="score">0</span></div>
            <div style="opacity: 0.5;">BEST: <span id="highScore">0</span></div>
        </div>
        
        <canvas id="gameCanvas" width="400" height="400"></canvas>

        <div id="startOverlay" class="overlay">
            <h1 style="margin: 0; color: var(--accent-color);">NEON SNAKE</h1>
            <p>Use Arrow Keys or WASD to Move</p>
            <button onclick="startGame()">START GAME</button>
        </div>

        <div id="gameOverOverlay" class="overlay hidden">
            <h2 style="color: var(--food-color);">GAME OVER</h2>
            <p id="finalScoreText"></p>
            <button onclick="startGame()">TRY AGAIN</button>
        </div>
    </div>

    <p class="controls-hint">Space to Pause | Arrows/WASD to Move</p>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('score');
        const highScoreEl = document.getElementById('highScore');
        const startOverlay = document.getElementById('startOverlay');
        const gameOverOverlay = document.getElementById('gameOverOverlay');

        // Game Settings
        const gridSize = 20;
        const tileCount = canvas.width / gridSize;
        
        let score = 0;
        let highScore = localStorage.getItem('snakeHighScore') || 0;
        highScoreEl.innerText = highScore;

        let snake = [{x: 10, y: 10}];
        let food = {x: 5, y: 5};
        let dx = 0;
        let dy = 0;
        let nextDx = 0;
        let nextDy = 0;
        let gameSpeed = 100;
        let gameLoop;
        let isPaused = false;

        window.addEventListener('keydown', changeDirection);

        function startGame() {
            // Reset state
            snake = [{x: 10, y: 10}];
            generateFood();
            score = 0;
            scoreEl.innerText = score;
            nextDx = 1; nextDy = 0; // Start moving right
            
            startOverlay.classList.add('hidden');
            gameOverOverlay.classList.add('hidden');
            
            if (gameLoop) clearInterval(gameLoop);
            gameLoop = setInterval(draw, gameSpeed);
        }

        function draw() {
            if (isPaused) return;

            moveSnake();
            
            if (checkGameOver()) {
                handleGameOver();
                return;
            }

            checkFoodCollision();
            
            // Clear Canvas
            ctx.fillStyle = '#020617';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw Food
            ctx.fillStyle = '#fb7185';
            ctx.shadowBlur = 15;
            ctx.shadowColor = '#fb7185';
            ctx.beginPath();
            ctx.arc((food.x * gridSize) + gridSize/2, (food.y * gridSize) + gridSize/2, gridSize/2.5, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;

            // Draw Snake
            snake.forEach((part, index) => {
                const isHead = index === 0;
                ctx.fillStyle = isHead ? '#38bdf8' : '#0ea5e9';
                
                if (isHead) {
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = '#38bdf8';
                }
                
                // Rounded snake segments
                ctx.beginPath();
                ctx.roundRect(part.x * gridSize + 1, part.y * gridSize + 1, gridSize - 2, gridSize - 2, 4);
                ctx.fill();
                ctx.shadowBlur = 0;
            });
        }

        function moveSnake() {
            dx = nextDx;
            dy = nextDy;
            const head = {x: snake[0].x + dx, y: snake[0].y + dy};
            snake.unshift(head);
            snake.pop();
        }

        function changeDirection(event) {
            const keyPressed = event.keyCode;
            const LEFT = 37, UP = 38, RIGHT = 39, DOWN = 40;
            const W = 87, A = 65, S = 83, D = 68;
            const SPACE = 32;

            if (keyPressed === SPACE) isPaused = !isPaused;

            const goingUp = dy === -1;
            const goingDown = dy === 1;
            const goingRight = dx === 1;
            const goingLeft = dx === -1;

            if ((keyPressed === LEFT || keyPressed === A) && !goingRight) { nextDx = -1; nextDy = 0; }
            if ((keyPressed === UP || keyPressed === W) && !goingDown) { nextDx = 0; nextDy = -1; }
            if ((keyPressed === RIGHT || keyPressed === D) && !goingLeft) { nextDx = 1; nextDy = 0; }
            if ((keyPressed === DOWN || keyPressed === S) && !goingUp) { nextDx = 0; nextDy = 1; }
        }

        function checkFoodCollision() {
            if (snake[0].x === food.x && snake[0].y === food.y) {
                score += 10;
                scoreEl.innerText = score;
                generateFood();
                growSnake();
                
                // Increase speed slightly
                if (gameSpeed > 60) {
                    clearInterval(gameLoop);
                    gameSpeed -= 1;
                    gameLoop = setInterval(draw, gameSpeed);
                }
            }
        }

        function growSnake() {
            const tail = { ...snake[snake.length - 1] };
            snake.push(tail);
        }

        function generateFood() {
            food = {
                x: Math.floor(Math.random() * tileCount),
                y: Math.floor(Math.random() * tileCount)
            };
            // Don't spawn food on snake body
            snake.forEach(part => {
                if (part.x === food.x && part.y === food.y) generateFood();
            });
        }

        function checkGameOver() {
            const head = snake[0];
            // Wall collision
            if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) return true;
            // Self collision
            for (let i = 1; i < snake.length; i++) {
                if (head.x === snake[i].x && head.y === snake[i].y) return true;
            }
            return false;
        }

        function handleGameOver() {
            clearInterval(gameLoop);
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('snakeHighScore', highScore);
                highScoreEl.innerText = highScore;
            }
            document.getElementById('finalScoreText').innerText = `You scored ${score} points!`;
            gameOverOverlay.classList.remove('hidden');
        }
    </script>
</body>
</html>
